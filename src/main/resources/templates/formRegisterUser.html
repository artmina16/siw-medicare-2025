<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>MediCare - Registrazione</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/register.css}">
</head>
<body>

<!-- Navbar minima con logo -->
<nav class="navbar navbar-light bg-white shadow-sm">
    <div class="container">
        <a class="navbar-brand" href="/">
            <img src="/images/MediCare.png" alt="MediCare Logo" height="60">
        </a>
    </div>
</nav>

<!-- Registration form -->
<div class="ring">
  <div class="ring-1"></div>
  <div class="ring-2"></div>
  <div class="ring-3"></div>
  <div class="register-container">
      <h2 class="text-center">Registrati a MediCare</h2>

      <form th:action="@{/register}" method="post" class="row g-3">
          <!-- NOME -->
          <div class="col-md-6">
              <label for="name" class="form-label">Nome</label>
              <span><input type="text" id="name" name="name" class="form-control" required th:field="${user.name}" /></span>
			  <span th:if="${#fields.hasErrors('user.name')}" th:errors="${user.name}" th:style="'color:red'">Nome non valido</span>
          </div>

          <!-- COGNOME -->
          <div class="col-md-6">
              <label for="surname" class="form-label">Cognome</label>
              <span><input type="text" id="surname" name="surname" class="form-control" required th:field="${user.surname}" /></span>
			  <span th:if="${#fields.hasErrors('user.surname')}" th:errors="${user.surname}" th:style="'color:red'">Cognome non valido</span>
          </div>

          <!-- EMAIL -->
          <div class="col-md-6">
              <label for="email" class="form-label">Email</label>
              <span><input type="email" id="email" name="email" class="form-control" required th:field="${credentials.username}" /></span>
			  <span th:if="${#fields.hasErrors('credentials.username')}" th:errors="${credentials.username}" th:style="'color:red'">Email non valida</span>
          </div>

          <!-- PASSWORD -->
          <div class="col-md-6">
              <label for="password" class="form-label">Password</label>
              <span><input type="password" id="password" name="password" class="form-control" required th:field="${credentials.password}" /></span>
			  <span th:if="${#fields.hasErrors('credentials.password')}" th:errors="${credentials.password}"
			  			th:style="'color:red'">Password non valida</span>
          </div>

          <!-- CONFERMA PASSWORD -->
          <div class="col-md-6">
              <label for="confirmPassword" class="form-label">Conferma Password</label>
              <span><input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required /></span>
<!--			  <span th:if="${param.error == 'passwordDiverse'}" th:style="'color:red'">Password non coincidono</span>-->
			  <div th:if="${param.error}" class="alert alert-danger text-center">
        		Password non coincidono.
    		  </div>
          </div>

        <div class="d-grid">
            <button type="submit" class="btn btn-register">Registrati</button>
        </div>
    </form>

    <div class="text-center mt-3">
        <a th:href="@{/login}">Hai gi√† un account? Accedi</a>
    </div>
</div>
 </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <p>&copy; 2025 MediCare. Tutti i diritti riservati.</p>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
